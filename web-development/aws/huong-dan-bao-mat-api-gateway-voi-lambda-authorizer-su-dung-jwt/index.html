<!doctype html><html itemscope lang=vi itemtype=http://schema.org/WebPage><head><meta charset=utf-8><base href=https://codechozui.github.io/><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=5"><meta name=theme-name content="hugoplate"><link rel="shortcut icon" href=/images/favicon_hu_5c1715aa7a7d0ee9.png type=image/x-icon><link rel=icon href=/images/favicon_hu_5c1715aa7a7d0ee9.png type=image/x-icon><link rel=icon type=image/png sizes=48x48 href=/images/favicon_hu_2ae89527f0560c8b.png><link rel=icon type=image/png sizes=96x96 href=/images/favicon_hu_5c1715aa7a7d0ee9.png><link rel=apple-touch-icon sizes=144x144 href=/images/favicon_hu_488d98769afbfd1c.png><link rel=manifest href=/manifest.webmanifest><meta name=msapplication-TileColor content="#ddd"><meta name=theme-color content="#ffffff"><base href=https://codechozui.github.io/web-development/aws/huong-dan-bao-mat-api-gateway-voi-lambda-authorizer-su-dung-jwt/><title>Hướng dẫn bảo mật API Gateway với Lambda Authorizer sử dụng JWT</title>
<meta name=keywords content="Programming,Software Development,Web Development,Coding Tutorial,Technical Blog,Lập Trình,Phát Triển Phần Mềm,Hướng Dẫn Lập Trình,Blog Kỹ Thuật,Công Nghệ"><meta name=description content="CodeChoZui - Blog chia sẻ kỹ thuật lập trình, khám phá công nghệ mới, cập nhật xu hướng hot nhất và mang đến những mẹo hay ho cho dân IT."><meta name=author content="CodeChoZui"><meta property="og:title" content="Hướng dẫn bảo mật API Gateway với Lambda Authorizer sử dụng JWT"><meta property="og:description" content="CodeChoZui - Blog chia sẻ kỹ thuật lập trình, khám phá công nghệ mới, cập nhật xu hướng hot nhất và mang đến những mẹo hay ho cho dân IT."><meta property="og:type" content="website"><meta property="og:url" content="https://codechozui.github.io/web-development/aws/huong-dan-bao-mat-api-gateway-voi-lambda-authorizer-su-dung-jwt/"><meta name=twitter:title content="Hướng dẫn bảo mật API Gateway với Lambda Authorizer sử dụng JWT"><meta name=twitter:description content="CodeChoZui - Blog chia sẻ kỹ thuật lập trình, khám phá công nghệ mới, cập nhật xu hướng hot nhất và mang đến những mẹo hay ho cho dân IT."><meta name=twitter:site content="@CodeChoZui"><meta name=twitter:creator content="@CodeChoZui"><script async src="https://www.googletagmanager.com/gtag/js?id=G-JL4MRDJN7Y"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-JL4MRDJN7Y")}</script><script>let indexURL="https://codechozui.github.io/searchindex.json",includeSectionsInSearch=["blog"],search_no_results="Không có kết quả cho",search_initial_message="Hãy gõ từ khóa của bạn..."</script><meta http-equiv=x-dns-prefetch-control content="on"><link rel=preconnect href=https://use.fontawesome.com crossorigin><link rel=preconnect href=//cdnjs.cloudflare.com><link rel=preconnect href=//www.googletagmanager.com><link rel=preconnect href=//www.google-analytics.com><link rel=dns-prefetch href=https://use.fontawesome.com><link rel=dns-prefetch href=//ajax.googleapis.com><link rel=dns-prefetch href=//cdnjs.cloudflare.com><link rel=dns-prefetch href=//www.googletagmanager.com><link rel=dns-prefetch href=//www.google-analytics.com><link rel=dns-prefetch href=//fonts.googleapis.com><link rel=dns-prefetch href=//connect.facebook.net><link rel=dns-prefetch href=//platform.linkedin.com><link rel=dns-prefetch href=//platform.twitter.com><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Heebo:wght@400;600&family=Signika:wght@500;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script><link href=/css/style.min.7ed01c99d2b2c1e4fa42058b9c6829f913c6f1a76ef548573cc0e3e36d3bdb74.css integrity="sha256-ftAcmdKyweT6QgWLnGgp+RPG8adu9UhXPMDj420723Q=" rel=stylesheet><link defer async rel=stylesheet href=/css/style-lazy.min.9e7e035d2f064fe004383f2ffc11a8f2966ef7b51c5fb2fac926e35c0061b5cf.css integrity="sha256-nn4DXS8GT+AEOD8v/BGo8pZu97UcX7L6ySbjXABhtc8=" media=print onload='this.media="all",this.onload=null'></head><body><header class="header sticky top-0 z-30"><nav class="navbar container"><div class=order-0><a class="navbar-brand block" href=/><img fetchpriority=high decoding=async class="img img-light" width=160 height=32 src=/images/logo.svg alt=CodeChoZui onerror='this.onerror=null,this.src=""'>
<img fetchpriority=high decoding=async class="img img-dark" width=160 height=32 src=/images/logo-horizontal-dark.svg alt=CodeChoZui onerror='this.onerror=null,this.src=""'></a></div><input id=nav-toggle type=checkbox class=hidden>
<label for=nav-toggle class="order-3 cursor-pointer flex items-center lg:hidden text-text-dark dark:text-white lg:order-1"><svg id="show-button" class="h-6 fill-current block" viewBox="0 0 20 20"><title>Menu Open</title><path d="M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0V0z"/></svg><svg id="hide-button" class="h-6 fill-current hidden" viewBox="0 0 20 20"><title>Menu Close</title><polygon points="11 9 22 9 22 11 11 11 11 22 9 22 9 11 -2 11 -2 9 9 9 9 -2 11 -2" transform="rotate(45 10 10)"/></svg></label><ul id=nav-menu class="navbar-nav order-3 hidden lg:flex w-full pb-6 lg:order-1 lg:w-auto lg:space-x-2 lg:pb-0 xl:space-x-8"><li class=nav-item><a class=nav-link href=/>Trang chủ</a></li><li class=nav-item><a class=nav-link href=/blog>Bài viết</a></li><li class="nav-item nav-dropdown group relative"><span class="nav-link
inline-flex items-center">Chuyên mục<svg class="h-4 w-4 fill-current" viewBox="0 0 20 20"><path d="M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"/></svg></span><ul class="nav-dropdown-list lg:group-hover:visible lg:group-hover:opacity-100"><li class=nav-dropdown-item><a class=nav-dropdown-link href=/web-development>Web Development</a></li><li class=nav-dropdown-item><a class=nav-dropdown-link href=/security>Bảo mật - Security</a></li><li class=nav-dropdown-item><a class=nav-dropdown-link href=/frontend>Frontend</a></li><li class=nav-dropdown-item><a class=nav-dropdown-link href=/javascript>Javascript</a></li><li class=nav-dropdown-item><a class=nav-dropdown-link href=/react>React</a></li><li class=nav-dropdown-item><a class=nav-dropdown-link href=/seo>SEO</a></li><li class=nav-dropdown-item><a class=nav-dropdown-link href=/tin-cong-nghe>Tin công nghệ</a></li></ul></li><li class=nav-item><a class=nav-link href=/about>Giới thiệu</a></li></ul><div class="order-1 ml-auto flex items-center md:order-2 lg:ml-0"><button aria-label=search class="border-border text-text-dark hover:text-primary
dark:border-darkmode-border mr-5 inline-block border-r pr-5
text-xl dark:text-white dark:hover:text-darkmode-primary" data-target=search-modal>
<i class="fa-solid fa-search"></i></button><div class="theme-switcher mr-5 hidden"><input id=theme-switcher data-theme-switcher type=checkbox>
<label for=theme-switcher><span class=sr-only>theme switcher</span>
<span><svg class="absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 z-10 opacity-100 dark:opacity-0" viewBox="0 0 56 56" fill="#fff" height="16" width="16"><path d="M30 4.6c0-1-.9-2-2-2a2 2 0 00-2 2v5c0 1 .9 2 2 2s2-1 2-2zm9.6 9a2 2 0 000 2.8c.8.8 2 .8 2.9.0L46 13a2 2 0 000-2.9 2 2 0 00-3 0zm-26 2.8c.7.8 2 .8 2.8.0.8-.7.8-2 0-2.9L13 10c-.7-.7-2-.8-2.9.0-.7.8-.7 2.1.0 3zM28 16A12 12 0 0016 28a12 12 0 0012 12 12 12 0 0012-12A12 12 0 0028 16zm23.3 14c1.1.0 2-.9 2-2s-.9-2-2-2h-4.9a2 2 0 00-2 2c0 1.1 1 2 2 2zM4.7 26a2 2 0 00-2 2c0 1.1.9 2 2 2h4.9c1 0 2-.9 2-2s-1-2-2-2zm37.8 13.6a2 2 0 00-3 0 2 2 0 000 2.9l3.6 3.5a2 2 0 002.9.0c.8-.8.8-2.1.0-3zM10 43.1a2 2 0 000 2.9c.8.7 2.1.8 3 0l3.4-3.5c.8-.8.8-2.1.0-2.9s-2-.8-2.9.0zm20 3.4c0-1.1-.9-2-2-2a2 2 0 00-2 2v4.9c0 1 .9 2 2 2s2-1 2-2z"/></svg><svg class="absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 z-10 opacity-0 dark:opacity-100" viewBox="0 0 24 24" fill="none" height="16" width="16"><path fill="#000" fill-rule="evenodd" clip-rule="evenodd" d="M8.2 2.2c1-.4 2 .6 1.6 1.5-1 3-.4 6.4 1.8 8.7a8.4 8.4.0 008.7 1.8c1-.3 2 .5 1.5 1.5v.1A10.3 10.3.0 0112.4 22 10.3 10.3.0 013.2 6.7c1-2 2.9-3.5 4.9-4.4z"/></svg></span></label></div><script>var darkMode=!1;window.matchMedia("(prefers-color-scheme: dark)").matches&&(darkMode=!0),localStorage.getItem("theme")==="dark"?darkMode=!0:localStorage.getItem("theme")==="light"&&(darkMode=!1),darkMode?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),document.addEventListener("DOMContentLoaded",()=>{var e=document.querySelectorAll("[data-theme-switcher]"),t=document.querySelector(".theme-switcher");[].forEach.call(e,function(e){e.checked=darkMode,e.addEventListener("click",()=>{document.documentElement.classList.toggle("dark"),localStorage.setItem("theme",document.documentElement.classList.contains("dark")?"dark":"light")})}),t.classList.remove("hidden")})</script></div></nav></header><div class=search-modal aria-hidden=true style=--color-primary:#121212><div data-target=close-search-modal class=search-modal-overlay></div><div class=search-wrapper data-image=true data-description=true data-tags=true data-categories=true><div class=search-wrapper-header><label for=search-modal-input style=margin-top:-1px><span class=sr-only>search icon</span>
<svg viewBox="0 0 512 512" height="18" width="18" class="search-icon" data-type="search"><path fill="currentcolor" d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8.0 45.3s-32.8 12.5-45.3.0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9.0 208S93.1.0 208 0 416 93.1 416 208zM208 352a144 144 0 100-288 144 144 0 100 288z"/></svg>
<svg viewBox="0 0 512 512" height="18" width="18" class="search-reset" data-type="reset"><path fill="currentcolor" d="M256 512A256 256 0 10256 0a256 256 0 100 512zM175 175c9.4-9.4 24.6-9.4 33.9.0l47 47 47-47c9.4-9.4 24.6-9.4 33.9.0s9.4 24.6.0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6.0 33.9s-24.6 9.4-33.9.0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9.0s-9.4-24.6.0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6.0-33.9z"/></svg>
</label><input id=search-modal-input type=text data-search-input autocomplete=off aria-label=Search placeholder="Gõ từ khóa..."></div><div class=search-wrapper-body><div class=search-result data-search-result></div><span class=search-result-empty>Hãy gõ từ khóa của bạn...</span></div><div class=search-wrapper-footer><span><kbd><svg width="14" height="14" fill="currentcolor" viewBox="0 0 16 16"><path d="M3.204 11h9.592L8 5.519 3.204 11zm-.753-.659 4.796-5.48a1 1 0 011.506.0l4.796 5.48c.566.647.106 1.659-.753 1.659H3.204a1 1 0 01-.753-1.659z"/></svg>
</kbd><kbd><svg width="14" height="14" fill="currentcolor" style="margin-top:1px" viewBox="0 0 16 16"><path d="M3.204 5h9.592L8 10.481 3.204 5zm-.753.659 4.796 5.48a1 1 0 001.506.0l4.796-5.48c.566-.647.106-1.659-.753-1.659H3.204a1 1 0 00-.753 1.659z"/></svg>
</kbd>điều hướng
</span><span><kbd><svg width="12" height="12" fill="currentcolor" style="display:inline-block" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M14.5 1.5a.5.5.0 01.5.5v4.8a2.5 2.5.0 01-2.5 2.5H2.707l3.347 3.346a.5.5.0 01-.708.708l-4.2-4.2a.5.5.0 010-.708l4-4a.5.5.0 11.708.708L2.707 8.3H12.5A1.5 1.5.0 0014 6.8V2a.5.5.0 01.5-.5z"/></svg>
</kbd>chọn
</span><span class=search-result-info></span>
<span data-target=close-search-modal><kbd>ESC</kbd> đóng</span></div></div></div><main><section class="section pt-7"><div class=container><div class="row justify-center"><article class=lg:col-8><h1 class="h2 mb-4">Hướng dẫn bảo mật API Gateway với Lambda Authorizer sử dụng JWT</h1><ul class="mb-2 text-sm inline-flex space-x-1"><li><a class="text-primary dark:text-darkmode-primary" href=https://codechozui.github.io/>Trang chủ
</a><span class="inlin-block mr-1">/</span></li><li><span class="text-primary dark:text-darkmode-primary">Hướng dẫn bảo mật API Gateway với Lambda Authorizer sử dụng JWT</span></li></ul><ul class="mb-4 text-sm text-text-light dark:text-darkmode-text-light"><li class="mr-4 inline-block"><a href=/authors/@codechozui/><i class="fa-regular fa-circle-user mr-2"></i>@codechozui</a></li><li class="mr-4 inline-block"><i class="fa-regular fa-clock mr-1"></i>
18 tháng 3, 2025</li><li class="mr-4 inline-block"><i class="fa-regular fa-clock mr-1"></i>
9
phút đọc</li></ul><p class="border-border dark:border-darkmode-border border-t pb-2"></p><div class="content mb-10"><h4 id=giới-thiệu>Giới thiệu</h4><p>Trong bài viết trước, mình đã khám phá cách triển khai một REST API sử dụng API Gateway, AWS Lambda, DynamoDB và Terraform. Kiến trúc bao gồm:</p><ol><li>Một API Gateway để triển khai các endpoint REST API.</li><li>AWS Lambda xử lý logic backend.</li><li>DynamoDB phục vụ như cơ sở dữ liệu.</li></ol><p>Tuy nhiên, một vấn đề bảo mật quan trọng là bất kỳ ai có URL gọi API đều có thể truy cập và thực hiện các thao tác trên API. Để hạn chế quyền truy cập API, có thể xem xét một số cách tiếp cận:</p><ol><li><strong>Chính sách tài nguyên API Gateway</strong>: Giới hạn quyền truy cập cho các tài khoản AWS hoặc dải IP cụ thể.</li><li><strong>Xác thực IAM</strong>: Yêu cầu khách hàng ký các yêu cầu bằng thông tin xác thực AWS IAM.</li><li><strong>Cognito User Pools</strong>: Triển khai xác thực và ủy quyền người dùng với Amazon Cognito.</li><li><strong>Lambda Authorizers</strong>: Sử dụng một hàm Lambda tùy chỉnh để xác thực logic ủy quyền trước khi cho phép truy cập.</li></ol><p>Trong hướng dẫn này, mình sẽ tập trung vào việc bảo mật API bằng cách sử dụng Lambda Authorizer với JSON Web Tokens (JWTs).</p><h4 id=jwt-token-là-gì>JWT Token là gì?</h4><p>Một JSON Web Token (JWT) là một định dạng token ngắn gọn và an toàn cho URL được sử dụng để xác thực và ủy quyền. Nó bao gồm ba phần:</p><ol><li><strong>Header</strong>: Chứa siêu dữ liệu như loại token và thuật toán ký.</li><li><strong>Payload</strong>: Giữ các claims (thông tin) về người dùng, chẳng hạn như ID người dùng và quyền truy cập.</li><li><strong>Signature</strong>: Đảm bảo tính toàn vẹn của token, được tạo ra bằng cách sử dụng một khóa bí mật hoặc cặp khóa công khai/riêng.</li></ol><p>JWTs thường được sử dụng trong các luồng xác thực, trong đó một client nhận được token khi đăng nhập và sử dụng nó để truy cập các tài nguyên được bảo vệ.</p><h4 id=kiến-trúc>Kiến trúc</h4><p>Dưới đây là kiến trúc serverless mà mình sẽ xử lý.</p><p><img src=/images/securing-api-gateway-with-lambda-authorizer-using-jwt-tokens/image_1.png alt="Architecture Diagram"></p><h4 id=bước-1-tạo-iam-role-cho-lambda-với-hàm-lambda>Bước 1: Tạo IAM Role cho Lambda với hàm Lambda</h4><p>Mình thiết lập IAM Role cần thiết cho hàm Lambda để truy cập DynamoDB và thực hiện các thao tác CRUD.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-hcl data-lang=hcl><span class=line><span class=cl><span class=k>resource</span> <span class=s2>&#34;aws_iam_role&#34; &#34;lambda_role&#34;</span> {
</span></span><span class=line><span class=cl><span class=n>  name</span> <span class=o>=</span> <span class=s2>&#34;lambda_execution_role&#34;</span>
</span></span><span class=line><span class=cl><span class=n>  assume_role_policy</span> <span class=o>=</span> <span class=k>jsonencode</span><span class=p>(</span>{
</span></span><span class=line><span class=cl>    <span class=s2>&#34;Version&#34; : &#34;2012-10-17&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;Statement&#34;</span> <span class=err>:</span> <span class=p>[</span>{
</span></span><span class=line><span class=cl>      <span class=s2>&#34;Effect&#34; : &#34;Allow&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;Principal&#34;</span> <span class=err>:</span> {
</span></span><span class=line><span class=cl>        <span class=s2>&#34;Service&#34; : &#34;lambda.amazonaws.com&#34;</span>
</span></span><span class=line><span class=cl>      }<span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;Action&#34; : &#34;sts:AssumeRole&#34;</span>
</span></span><span class=line><span class=cl>    }<span class=p>]</span>
</span></span><span class=line><span class=cl>  }<span class=p>)</span>
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><p>Mình cũng tạo chính sách để truy cập DynamoDB.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-hcl data-lang=hcl><span class=line><span class=cl><span class=k>resource</span> <span class=s2>&#34;aws_iam_policy&#34; &#34;DynamoDBAccessPolicy&#34;</span> {
</span></span><span class=line><span class=cl><span class=n>  name</span>        <span class=o>=</span> <span class=s2>&#34;DynamoDBAccessPolicy&#34;</span>
</span></span><span class=line><span class=cl><span class=n>  description</span> <span class=o>=</span> <span class=s2>&#34;DynamoDBAccessPolicy&#34;</span>
</span></span><span class=line><span class=cl><span class=n>  policy</span> <span class=o>=</span> <span class=k>jsonencode</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    {
</span></span><span class=line><span class=cl>      <span class=s2>&#34;Version&#34; : &#34;2012-10-17&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;Statement&#34;</span> <span class=err>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>        {
</span></span><span class=line><span class=cl>          <span class=s2>&#34;Action&#34;</span> <span class=err>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;dynamodb:List*&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;dynamodb:DescribeReservedCapacity*&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;dynamodb:DescribeLimits&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;dynamodb:DescribeTimeToLive&#34;</span>
</span></span><span class=line><span class=cl>          <span class=p>],</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;Resource&#34; : &#34;*&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;Effect&#34; : &#34;Allow&#34;</span>
</span></span><span class=line><span class=cl>        }<span class=p>,</span>
</span></span><span class=line><span class=cl>        {
</span></span><span class=line><span class=cl>          <span class=s2>&#34;Action&#34;</span> <span class=err>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;dynamodb:BatchGet*&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;dynamodb:DescribeStream&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;dynamodb:DescribeTable&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;dynamodb:Get*&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;dynamodb:Query&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;dynamodb:Scan&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;dynamodb:BatchWrite*&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;dynamodb:CreateTable&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;dynamodb:Delete*&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;dynamodb:Update*&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;dynamodb:PutItem&#34;</span>
</span></span><span class=line><span class=cl>          <span class=p>],</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;Resource&#34;</span> <span class=err>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;arn:aws:dynamodb:*:*:table/Books_Table&#34;</span>
</span></span><span class=line><span class=cl>          <span class=p>],</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;Effect&#34; : &#34;Allow&#34;</span>
</span></span><span class=line><span class=cl>        }
</span></span><span class=line><span class=cl>      <span class=p>]</span>
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>  <span class=p>)</span>
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><p>Mình gán chính sách cho role.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-hcl data-lang=hcl><span class=line><span class=cl><span class=k>resource</span> <span class=s2>&#34;aws_iam_policy_attachment&#34; &#34;lambda_basic_execution&#34;</span> {
</span></span><span class=line><span class=cl><span class=n>  name</span>       <span class=o>=</span> <span class=s2>&#34;lambda_basic_execution&#34;</span>
</span></span><span class=line><span class=cl><span class=n>  roles</span>      <span class=o>=</span> <span class=p>[</span><span class=k>aws_iam_role</span><span class=p>.</span><span class=k>lambda_role</span><span class=p>.</span><span class=k>name</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>  policy_arn</span> <span class=o>=</span> <span class=s2>&#34;arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole&#34;</span>
</span></span><span class=line><span class=cl>}
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>resource</span> <span class=s2>&#34;aws_iam_policy_attachment&#34; &#34;lambda_dynamodb_access&#34;</span> {
</span></span><span class=line><span class=cl><span class=n>  name</span>       <span class=o>=</span> <span class=s2>&#34;lambda_dynamodb_access&#34;</span>
</span></span><span class=line><span class=cl><span class=n>  roles</span>      <span class=o>=</span> <span class=p>[</span><span class=k>aws_iam_role</span><span class=p>.</span><span class=k>lambda_role</span><span class=p>.</span><span class=k>name</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>  policy_arn</span> <span class=o>=</span> <span class=k>aws_iam_policy</span><span class=p>.</span><span class=k>DynamoDBAccessPolicy</span><span class=p>.</span><span class=k>arn</span>
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><p>Mình cũng nén mã nguồn của hàm Lambda.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-hcl data-lang=hcl><span class=line><span class=cl><span class=k>data</span> <span class=s2>&#34;archive_file&#34; &#34;lambda_function_archive&#34;</span> {
</span></span><span class=line><span class=cl><span class=n>  type</span>        <span class=o>=</span> <span class=s2>&#34;zip&#34;</span>
</span></span><span class=line><span class=cl><span class=n>  source_dir</span>  <span class=o>=</span> <span class=s2>&#34;${path.module}/lambda&#34;</span>
</span></span><span class=line><span class=cl><span class=n>  output_path</span> <span class=o>=</span> <span class=s2>&#34;${path.module}/lambda_function.zip&#34;</span>
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><p>Mình tạo hàm Lambda theo cấu hình sau:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-hcl data-lang=hcl><span class=line><span class=cl><span class=k>resource</span> <span class=s2>&#34;aws_lambda_function&#34; &#34;book_lambda_function&#34;</span> {
</span></span><span class=line><span class=cl><span class=n>  function_name</span> <span class=o>=</span> <span class=s2>&#34;Books_Lambda&#34;</span>
</span></span><span class=line><span class=cl><span class=n>  filename</span>      <span class=o>=</span> <span class=s2>&#34;${path.module}/lambda_function.zip&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>  runtime</span>     <span class=o>=</span> <span class=s2>&#34;python3.12&#34;</span>
</span></span><span class=line><span class=cl><span class=n>  handler</span>     <span class=o>=</span> <span class=s2>&#34;lambda_function.lambda_handler&#34;</span>
</span></span><span class=line><span class=cl><span class=n>  memory_size</span> <span class=o>=</span> <span class=m>128</span>
</span></span><span class=line><span class=cl><span class=n>  timeout</span>     <span class=o>=</span> <span class=m>10</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>environment</span> {
</span></span><span class=line><span class=cl><span class=n>    variables</span> <span class=o>=</span> {
</span></span><span class=line><span class=cl><span class=n>      DYNAMODB_TABLE</span> <span class=o>=</span> <span class=s2>&#34;Books_Table&#34;</span>
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>  }
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>  source_code_hash</span> <span class=o>=</span> <span class=k>data</span><span class=p>.</span><span class=k>archive_file</span><span class=p>.</span><span class=k>lambda_function_archive</span><span class=p>.</span><span class=k>output_base64sha256</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>  role</span> <span class=o>=</span> <span class=k>aws_iam_role</span><span class=p>.</span><span class=k>lambda_role</span><span class=p>.</span><span class=k>arn</span>
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><p>Mình cũng tạo nhóm log CloudWatch cho hàm Lambda.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-hcl data-lang=hcl><span class=line><span class=cl><span class=k>resource</span> <span class=s2>&#34;aws_cloudwatch_log_group&#34; &#34;book_lambda_function_cloudwatch&#34;</span> {
</span></span><span class=line><span class=cl><span class=n>  name</span>              <span class=o>=</span> <span class=s2>&#34;/aws/lambda/${aws_lambda_function.book_lambda_function.function_name}&#34;</span>
</span></span><span class=line><span class=cl><span class=n>  retention_in_days</span> <span class=o>=</span> <span class=m>7</span>
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h4 id=bước-2-thiết-lập-bảng-dynamodb>Bước 2: Thiết lập bảng DynamoDB</h4><p>Mình tạo một bảng DynamoDB để lưu trữ hồ sơ sách. Và tạo các bản ghi mẫu từ books.json.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-hcl data-lang=hcl><span class=line><span class=cl><span class=k>resource</span> <span class=s2>&#34;aws_dynamodb_table&#34; &#34;books_table&#34;</span> {
</span></span><span class=line><span class=cl><span class=n>  name</span>           <span class=o>=</span> <span class=s2>&#34;Books_Table&#34;</span>
</span></span><span class=line><span class=cl><span class=n>  billing_mode</span>   <span class=o>=</span> <span class=s2>&#34;PROVISIONED&#34;</span>
</span></span><span class=line><span class=cl><span class=n>  read_capacity</span>  <span class=o>=</span> <span class=m>5</span>
</span></span><span class=line><span class=cl><span class=n>  write_capacity</span> <span class=o>=</span> <span class=m>5</span>
</span></span><span class=line><span class=cl><span class=n>  hash_key</span>       <span class=o>=</span> <span class=s2>&#34;book_id&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>attribute</span> {
</span></span><span class=line><span class=cl><span class=n>    name</span> <span class=o>=</span> <span class=s2>&#34;book_id&#34;</span>
</span></span><span class=line><span class=cl><span class=n>    type</span> <span class=o>=</span> <span class=s2>&#34;S&#34;</span>
</span></span><span class=line><span class=cl>  }
</span></span><span class=line><span class=cl>}
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>locals</span> {
</span></span><span class=line><span class=cl><span class=n>  json_data</span> <span class=o>=</span> <span class=k>file</span><span class=p>(</span><span class=s2>&#34;${path.module}/books.json&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>  books</span>     <span class=o>=</span> <span class=k>jsondecode</span><span class=p>(</span><span class=k>local</span><span class=p>.</span><span class=k>json_data</span><span class=p>)</span>
</span></span><span class=line><span class=cl>}
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>resource</span> <span class=s2>&#34;aws_dynamodb_table_item&#34; &#34;books&#34;</span> {
</span></span><span class=line><span class=cl><span class=n>  for_each</span>   <span class=o>=</span> <span class=k>local</span><span class=p>.</span><span class=k>books</span>
</span></span><span class=line><span class=cl><span class=n>  table_name</span> <span class=o>=</span> <span class=k>aws_dynamodb_table</span><span class=p>.</span><span class=k>books_table</span><span class=p>.</span><span class=k>name</span>
</span></span><span class=line><span class=cl><span class=n>  hash_key</span>   <span class=o>=</span> <span class=k>aws_dynamodb_table</span><span class=p>.</span><span class=k>books_table</span><span class=p>.</span><span class=k>hash_key</span>
</span></span><span class=line><span class=cl><span class=n>  item</span>       <span class=o>=</span> <span class=k>jsonencode</span><span class=p>(</span><span class=k>each</span><span class=p>.</span><span class=k>value</span><span class=p>)</span>
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h4 id=bước-3-thiết-lập-api-gateway-với-các-phương-thức-tài-nguyên-giai-đoạn-authorizer>Bước 3: Thiết lập API Gateway với các phương thức, tài nguyên, giai đoạn, authorizer</h4><p>API Gateway hoạt động như một proxy, chuyển tiếp các yêu cầu HTTP đến hàm Lambda bằng cách sử dụng yêu cầu POST.</p><p>Mình định nghĩa các phương thức API với xác thực &ldquo;CUSTOM&rdquo; và gán authorizer cho nó.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-hcl data-lang=hcl><span class=line><span class=cl><span class=k>resource</span> <span class=s2>&#34;aws_api_gateway_rest_api&#34; &#34;API-gateway&#34;</span> {
</span></span><span class=line><span class=cl><span class=n>  name</span>        <span class=o>=</span> <span class=s2>&#34;lambda_rest_api&#34;</span>
</span></span><span class=line><span class=cl><span class=n>  description</span> <span class=o>=</span> <span class=s2>&#34;This is the REST API for Best Books&#34;</span>
</span></span><span class=line><span class=cl>  <span class=k>endpoint_configuration</span> {
</span></span><span class=line><span class=cl><span class=n>    types</span> <span class=o>=</span> <span class=p>[</span><span class=s2>&#34;REGIONAL&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>  }
</span></span><span class=line><span class=cl>}
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>resource</span> <span class=s2>&#34;aws_api_gateway_resource&#34; &#34;API-resource-book&#34;</span> {
</span></span><span class=line><span class=cl><span class=n>  rest_api_id</span> <span class=o>=</span> <span class=k>aws_api_gateway_rest_api</span><span class=p>.</span><span class=k>API</span><span class=err>-</span><span class=k>gateway</span><span class=p>.</span><span class=k>id</span>
</span></span><span class=line><span class=cl><span class=n>  parent_id</span>   <span class=o>=</span> <span class=k>aws_api_gateway_rest_api</span><span class=p>.</span><span class=k>API</span><span class=err>-</span><span class=k>gateway</span><span class=p>.</span><span class=k>root_resource_id</span>
</span></span><span class=line><span class=cl><span class=n>  path_part</span>   <span class=o>=</span> <span class=s2>&#34;book&#34;</span>
</span></span><span class=line><span class=cl>}
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>resource</span> <span class=s2>&#34;aws_api_gateway_resource&#34; &#34;API-resource-books&#34;</span> {
</span></span><span class=line><span class=cl><span class=n>  rest_api_id</span> <span class=o>=</span> <span class=k>aws_api_gateway_rest_api</span><span class=p>.</span><span class=k>API</span><span class=err>-</span><span class=k>gateway</span><span class=p>.</span><span class=k>id</span>
</span></span><span class=line><span class=cl><span class=n>  parent_id</span>   <span class=o>=</span> <span class=k>aws_api_gateway_rest_api</span><span class=p>.</span><span class=k>API</span><span class=err>-</span><span class=k>gateway</span><span class=p>.</span><span class=k>root_resource_id</span>
</span></span><span class=line><span class=cl><span class=n>  path_part</span>   <span class=o>=</span> <span class=s2>&#34;books&#34;</span>
</span></span><span class=line><span class=cl>}
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>resource</span> <span class=s2>&#34;aws_api_gateway_authorizer&#34; &#34;my_authorizer&#34;</span> {
</span></span><span class=line><span class=cl><span class=n>  name</span>                             <span class=o>=</span> <span class=s2>&#34;my_authorizer&#34;</span>
</span></span><span class=line><span class=cl><span class=n>  rest_api_id</span>                      <span class=o>=</span> <span class=k>aws_api_gateway_rest_api</span><span class=p>.</span><span class=k>API</span><span class=err>-</span><span class=k>gateway</span><span class=p>.</span><span class=k>id</span>
</span></span><span class=line><span class=cl><span class=n>  authorizer_uri</span>                   <span class=o>=</span> <span class=s2>&#34;arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/${aws_lambda_function.lambda_authorizer.arn}/invocations&#34;</span>
</span></span><span class=line><span class=cl><span class=n>  identity_source</span>                  <span class=o>=</span> <span class=s2>&#34;method.request.header.authorizationToken&#34;</span>
</span></span><span class=line><span class=cl><span class=n>  authorizer_result_ttl_in_seconds</span> <span class=o>=</span> <span class=m>0</span>
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><p>Tiếp theo, mình định nghĩa các phương thức cho từng tài nguyên.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-hcl data-lang=hcl><span class=line><span class=cl><span class=k>resource</span> <span class=s2>&#34;aws_api_gateway_method&#34; &#34;GET_one_method&#34;</span> {
</span></span><span class=line><span class=cl><span class=n>  rest_api_id</span>   <span class=o>=</span> <span class=k>aws_api_gateway_rest_api</span><span class=p>.</span><span class=k>API</span><span class=err>-</span><span class=k>gateway</span><span class=p>.</span><span class=k>id</span>
</span></span><span class=line><span class=cl><span class=n>  resource_id</span>   <span class=o>=</span> <span class=k>aws_api_gateway_resource</span><span class=p>.</span><span class=k>API</span><span class=err>-</span><span class=k>resource</span><span class=err>-</span><span class=k>book</span><span class=p>.</span><span class=k>id</span>
</span></span><span class=line><span class=cl><span class=n>  http_method</span>   <span class=o>=</span> <span class=s2>&#34;GET&#34;</span>
</span></span><span class=line><span class=cl><span class=n>  authorization</span> <span class=o>=</span> <span class=s2>&#34;CUSTOM&#34;</span>
</span></span><span class=line><span class=cl><span class=n>  authorizer_id</span> <span class=o>=</span> <span class=k>aws_api_gateway_authorizer</span><span class=p>.</span><span class=k>my_authorizer</span><span class=p>.</span><span class=k>id</span>
</span></span><span class=line><span class=cl>}
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>resource</span> <span class=s2>&#34;aws_api_gateway_integration&#34; &#34;GET_one_lambda_integration&#34;</span> {
</span></span><span class=line><span class=cl><span class=n>  rest_api_id</span>             <span class=o>=</span> <span class=k>aws_api_gateway_rest_api</span><span class=p>.</span><span class=k>API</span><span class=err>-</span><span class=k>gateway</span><span class=p>.</span><span class=k>id</span>
</span></span><span class=line><span class=cl><span class=n>  resource_id</span>             <span class=o>=</span> <span class=k>aws_api_gateway_resource</span><span class=p>.</span><span class=k>API</span><span class=err>-</span><span class=k>resource</span><span class=err>-</span><span class=k>book</span><span class=p>.</span><span class=k>id</span>
</span></span><span class=line><span class=cl><span class=n>  http_method</span>             <span class=o>=</span> <span class=k>aws_api_gateway_method</span><span class=p>.</span><span class=k>GET_one_method</span><span class=p>.</span><span class=k>http_method</span>
</span></span><span class=line><span class=cl><span class=n>  type</span>                    <span class=o>=</span> <span class=s2>&#34;AWS_PROXY&#34;</span>
</span></span><span class=line><span class=cl><span class=n>  integration_http_method</span> <span class=o>=</span> <span class=s2>&#34;POST&#34;</span>
</span></span><span class=line><span class=cl><span class=n>  uri</span>                     <span class=o>=</span> <span class=k>aws_lambda_function</span><span class=p>.</span><span class=k>book_lambda_function</span><span class=p>.</span><span class=k>invoke_arn</span>
</span></span><span class=line><span class=cl>}
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>resource</span> <span class=s2>&#34;aws_api_gateway_method_response&#34; &#34;GET_one_method_response_200&#34;</span> {
</span></span><span class=line><span class=cl><span class=n>  rest_api_id</span> <span class=o>=</span> <span class=k>aws_api_gateway_rest_api</span><span class=p>.</span><span class=k>API</span><span class=err>-</span><span class=k>gateway</span><span class=p>.</span><span class=k>id</span>
</span></span><span class=line><span class=cl><span class=n>  resource_id</span> <span class=o>=</span> <span class=k>aws_api_gateway_resource</span><span class=p>.</span><span class=k>API</span><span class=err>-</span><span class=k>resource</span><span class=err>-</span><span class=k>book</span><span class=p>.</span><span class=k>id</span>
</span></span><span class=line><span class=cl><span class=n>  http_method</span> <span class=o>=</span> <span class=k>aws_api_gateway_method</span><span class=p>.</span><span class=k>GET_one_method</span><span class=p>.</span><span class=k>http_method</span>
</span></span><span class=line><span class=cl><span class=n>  status_code</span> <span class=o>=</span> <span class=s2>&#34;200&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>  response_parameters</span> <span class=o>=</span> {
</span></span><span class=line><span class=cl><span class=n>    &#34;method.response.header.Access-Control-Allow-Headers&#34;</span>     <span class=o>=</span> <span class=kt>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=n>    &#34;method.response.header.Access-Control-Allow-Methods&#34;</span>     <span class=o>=</span> <span class=kt>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=n>    &#34;method.response.header.Access-Control-Allow-Origin&#34;</span>      <span class=o>=</span> <span class=kt>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=n>    &#34;method.response.header.Access-Control-Allow-Credentials&#34;</span> <span class=o>=</span> <span class=kt>true</span>
</span></span><span class=line><span class=cl>  }
</span></span><span class=line><span class=cl>}
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>resource</span> <span class=s2>&#34;aws_api_gateway_integration_response&#34; &#34;GET_one_integration_response_200&#34;</span> {
</span></span><span class=line><span class=cl><span class=n>  rest_api_id</span> <span class=o>=</span> <span class=k>aws_api_gateway_rest_api</span><span class=p>.</span><span class=k>API</span><span class=err>-</span><span class=k>gateway</span><span class=p>.</span><span class=k>id</span>
</span></span><span class=line><span class=cl><span class=n>  resource_id</span> <span class=o>=</span> <span class=k>aws_api_gateway_resource</span><span class=p>.</span><span class=k>API</span><span class=err>-</span><span class=k>resource</span><span class=err>-</span><span class=k>book</span><span class=p>.</span><span class=k>id</span>
</span></span><span class=line><span class=cl><span class=n>  http_method</span> <span class=o>=</span> <span class=k>aws_api_gateway_method</span><span class=p>.</span><span class=k>GET_one_method</span><span class=p>.</span><span class=k>http_method</span>
</span></span><span class=line><span class=cl><span class=n>  status_code</span> <span class=o>=</span> <span class=k>aws_api_gateway_method_response</span><span class=p>.</span><span class=k>GET_one_method_response_200</span><span class=p>.</span><span class=k>status_code</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>  depends_on</span> <span class=o>=</span> <span class=p>[</span><span class=k>aws_api_gateway_integration</span><span class=p>.</span><span class=k>GET_one_lambda_integration</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>  response_templates</span> <span class=o>=</span> {
</span></span><span class=line><span class=cl><span class=n>    &#34;application/json&#34;</span> <span class=o>=</span> <span class=err>&lt;&lt;</span><span class=k>EOF</span><span class=c1>
</span></span></span><span class=line><span class=cl><span class=c1>    #set($inputRoot = $input.path(&#39;$.body&#39;))
</span></span></span><span class=line><span class=cl><span class=c1></span>    {
</span></span><span class=line><span class=cl>      <span class=err>\</span><span class=s2>&#34;statusCode\&#34;</span><span class=err>:</span> <span class=err>$</span><span class=k>input</span><span class=p>.</span><span class=k>path</span><span class=p>(</span><span class=err>&#39;$</span><span class=p>.</span><span class=k>statusCode</span><span class=err>&#39;</span><span class=p>),</span>
</span></span><span class=line><span class=cl>      <span class=err>\</span><span class=s2>&#34;body\&#34;</span><span class=err>:</span> <span class=err>$</span><span class=k>inputRoot</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=err>\</span><span class=s2>&#34;headers\&#34;</span><span class=err>:</span> {
</span></span><span class=line><span class=cl>        <span class=err>\</span><span class=s2>&#34;Content-Type\&#34;: \&#34;application/json\&#34;</span>
</span></span><span class=line><span class=cl>      }
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>    <span class=k>EOF</span>
</span></span><span class=line><span class=cl>  }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><p>Mình sẽ tạo các phương thức REST khác tương tự cho CRUD.</p><h4 id=bước-4-định-nghĩa-mã-hàm-lambda-authorizer>Bước 4: Định nghĩa mã hàm Lambda Authorizer</h4><p>Một Lambda Authorizer là một hàm Lambda tùy chỉnh AWS kiểm tra các yêu cầu API và xác định xem chúng có nên được cho phép hay không. Mình đã sử dụng authorizer dựa trên <code>TOKEN</code>. Dưới đây là một triển khai Python của Lambda Authorizer xác thực một token JWT:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>jwt</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>os</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>lambda_handler</span><span class=p>(</span><span class=n>event</span><span class=p>,</span> <span class=n>context</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>secret_key</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>environ</span><span class=p>[</span><span class=s2>&#34;JWT_SECRET_KEY&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=n>auth_token</span> <span class=o>=</span> <span class=n>event</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;authorizationToken&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=ow>not</span> <span class=n>auth_token</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Error: No authorization token provided&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=n>generatePolicy</span><span class=p>(</span><span class=s2>&#34;user&#34;</span><span class=p>,</span> <span class=s2>&#34;Deny&#34;</span><span class=p>,</span> <span class=n>event</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&#34;methodArn&#34;</span><span class=p>),</span> <span class=s2>&#34;Unauthorized: No token provided&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>user_details</span> <span class=o>=</span> <span class=n>decode_auth_token</span><span class=p>(</span><span class=n>auth_token</span><span class=p>,</span> <span class=n>secret_key</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>user_details</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;Name&#39;</span><span class=p>)</span> <span class=o>==</span> <span class=s2>&#34;Chinmay&#34;</span> <span class=ow>and</span> <span class=n>user_details</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;Role&#39;</span><span class=p>)</span> <span class=o>==</span> <span class=s2>&#34;api_user&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;Authorized JWT Token&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=n>generatePolicy</span><span class=p>(</span><span class=s1>&#39;user&#39;</span><span class=p>,</span> <span class=s1>&#39;Allow&#39;</span><span class=p>,</span> <span class=n>event</span><span class=p>[</span><span class=s1>&#39;methodArn&#39;</span><span class=p>],</span> <span class=s2>&#34;Authorized : Valid JWT Token&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>except</span> <span class=n>jwt</span><span class=o>.</span><span class=n>ExpiredSignatureError</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Error: Token has expired&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>generatePolicy</span><span class=p>(</span><span class=s2>&#34;user&#34;</span><span class=p>,</span> <span class=s2>&#34;Deny&#34;</span><span class=p>,</span> <span class=n>event</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&#34;methodArn&#34;</span><span class=p>),</span> <span class=s2>&#34;Error: Token has expired&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>except</span> <span class=n>jwt</span><span class=o>.</span><span class=n>InvalidTokenError</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Error: Invalid token&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>generatePolicy</span><span class=p>(</span><span class=s2>&#34;user&#34;</span><span class=p>,</span> <span class=s2>&#34;Deny&#34;</span><span class=p>,</span> <span class=n>event</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&#34;methodArn&#34;</span><span class=p>),</span> <span class=s2>&#34;Error: Invalid JWT Token&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Lambda Error: </span><span class=si>{</span><span class=nb>str</span><span class=p>(</span><span class=n>e</span><span class=p>)</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>  <span class=c1># Log exact error</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>generatePolicy</span><span class=p>(</span><span class=s2>&#34;user&#34;</span><span class=p>,</span> <span class=s2>&#34;Deny&#34;</span><span class=p>,</span> <span class=n>event</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&#34;methodArn&#34;</span><span class=p>),</span> <span class=sa>f</span><span class=s2>&#34;Lambda Error: </span><span class=si>{</span><span class=nb>str</span><span class=p>(</span><span class=n>e</span><span class=p>)</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>generatePolicy</span><span class=p>(</span><span class=n>principalId</span><span class=p>,</span> <span class=n>effect</span><span class=p>,</span> <span class=n>resource</span><span class=p>,</span> <span class=n>message</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>authResponse</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;principalId&#39;</span><span class=p>:</span> <span class=n>principalId</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;policyDocument&#39;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=s1>&#39;Version&#39;</span><span class=p>:</span> <span class=s1>&#39;2012-10-17&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s1>&#39;Statement&#39;</span><span class=p>:</span> <span class=p>[{</span>
</span></span><span class=line><span class=cl>                <span class=s1>&#39;Action&#39;</span><span class=p>:</span> <span class=s1>&#39;execute-api:Invoke&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s1>&#39;Effect&#39;</span><span class=p>:</span> <span class=n>effect</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s1>&#39;Resource&#39;</span><span class=p>:</span> <span class=n>resource</span>
</span></span><span class=line><span class=cl>            <span class=p>}]</span>
</span></span><span class=line><span class=cl>        <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;context&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;errorMessage&#34;</span><span class=p>:</span> <span class=n>message</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>authResponse</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>decode_auth_token</span><span class=p>(</span><span class=n>auth_token</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>secret_key</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>auth_token</span> <span class=o>=</span> <span class=n>auth_token</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s1>&#39;Bearer &#39;</span><span class=p>,</span> <span class=s1>&#39;&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>jwt</span><span class=o>.</span><span class=n>decode</span><span class=p>(</span><span class=n>jwt</span><span class=o>=</span><span class=n>auth_token</span><span class=p>,</span> <span class=n>key</span><span class=o>=</span><span class=n>secret_key</span><span class=p>,</span> <span class=n>algorithms</span><span class=o>=</span><span class=p>[</span><span class=s2>&#34;HS256&#34;</span><span class=p>],</span> <span class=n>options</span><span class=o>=</span><span class=p>{</span><span class=s2>&#34;verify_signature&#34;</span><span class=p>:</span> <span class=kc>False</span><span class=p>,</span> <span class=s2>&#34;verify_exp&#34;</span><span class=p>:</span> <span class=kc>True</span><span class=p>})</span>
</span></span></code></pre></div><p>Để giải mã JWT, mình sẽ sử dụng thư viện PyJWT. Môi trường AWS Lambda không có gói PyJWT theo mặc định. Do đó, mình cần tải lên tất cả các gói cần thiết để hàm lambda_handler có thể chạy trong một tệp zip. Các bước như sau:</p><ol><li>Vào thư mục lambda_authorizer tại terminal.</li><li>Chạy lệnh <code>pip install --target ./ PyJWT</code></li></ol><p>Sau đó, cấu trúc thư mục sẽ như sau:</p><p><img src=/images/securing-api-gateway-with-lambda-authorizer-using-jwt-tokens/image_2.png alt="Authorizer Code DIR"></p><p>Tiếp theo, mình tạo tệp zip và tạo một hàm Lambda cho authorizer cùng với IAM role:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-hcl data-lang=hcl><span class=line><span class=cl><span class=k>resource</span> <span class=s2>&#34;aws_iam_role&#34; &#34;lambda_authorizer_role&#34;</span> {
</span></span><span class=line><span class=cl><span class=n>  name</span> <span class=o>=</span> <span class=s2>&#34;lambda_auth_execution_role&#34;</span>
</span></span><span class=line><span class=cl><span class=n>  assume_role_policy</span> <span class=o>=</span> <span class=k>jsonencode</span><span class=p>(</span>{
</span></span><span class=line><span class=cl>    <span class=s2>&#34;Version&#34; : &#34;2012-10-17&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;Statement&#34;</span> <span class=err>:</span> <span class=p>[</span>{
</span></span><span class=line><span class=cl>      <span class=s2>&#34;Effect&#34; : &#34;Allow&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;Principal&#34;</span> <span class=err>:</span> {
</span></span><span class=line><span class=cl>        <span class=s2>&#34;Service&#34; : &#34;lambda.amazonaws.com&#34;</span>
</span></span><span class=line><span class=cl>      }<span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;Action&#34; : &#34;sts:AssumeRole&#34;</span>
</span></span><span class=line><span class=cl>    }<span class=p>]</span>
</span></span><span class=line><span class=cl>  }<span class=p>)</span>
</span></span><span class=line><span class=cl>}
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>resource</span> <span class=s2>&#34;aws_iam_policy_attachment&#34; &#34;lambda_basic_execution_authorizer&#34;</span> {
</span></span><span class=line><span class=cl><span class=n>  name</span>       <span class=o>=</span> <span class=s2>&#34;lambda_basic_execution_authorizer&#34;</span>
</span></span><span class=line><span class=cl><span class=n>  roles</span>      <span class=o>=</span> <span class=p>[</span><span class=k>aws_iam_role</span><span class=p>.</span><span class=k>lambda_authorizer_role</span><span class=p>.</span><span class=k>name</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>  policy_arn</span> <span class=o>=</span> <span class=s2>&#34;arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole&#34;</span>
</span></span><span class=line><span class=cl>}
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>data</span> <span class=s2>&#34;archive_file&#34; &#34;lambda_authorizer_archive&#34;</span> {
</span></span><span class=line><span class=cl><span class=n>  type</span>        <span class=o>=</span> <span class=s2>&#34;zip&#34;</span>
</span></span><span class=line><span class=cl><span class=n>  source_dir</span>  <span class=o>=</span> <span class=s2>&#34;${path.module}/lambda_authorizer&#34;</span>
</span></span><span class=line><span class=cl><span class=n>  output_path</span> <span class=o>=</span> <span class=s2>&#34;${path.module}/lambda_authorizer.zip&#34;</span>
</span></span><span class=line><span class=cl>}
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>resource</span> <span class=s2>&#34;aws_lambda_function&#34; &#34;lambda_authorizer&#34;</span> {
</span></span><span class=line><span class=cl><span class=n>  function_name</span> <span class=o>=</span> <span class=s2>&#34;LambdaAuthorizer&#34;</span>
</span></span><span class=line><span class=cl><span class=n>  filename</span>      <span class=o>=</span> <span class=s2>&#34;${path.module}/lambda_authorizer.zip&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>  runtime</span>     <span class=o>=</span> <span class=s2>&#34;python3.12&#34;</span>
</span></span><span class=line><span class=cl><span class=n>  handler</span>     <span class=o>=</span> <span class=s2>&#34;lambda_authorizer.lambda_handler&#34;</span>
</span></span><span class=line><span class=cl><span class=n>  memory_size</span> <span class=o>=</span> <span class=m>128</span>
</span></span><span class=line><span class=cl><span class=n>  timeout</span>     <span class=o>=</span> <span class=m>10</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>  source_code_hash</span> <span class=o>=</span> <span class=k>data</span><span class=p>.</span><span class=k>archive_file</span><span class=p>.</span><span class=k>lambda_authorizer_archive</span><span class=p>.</span><span class=k>output_base64sha256</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>  role</span> <span class=o>=</span> <span class=k>aws_iam_role</span><span class=p>.</span><span class=k>lambda_authorizer_role</span><span class=p>.</span><span class=k>arn</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>environment</span> {
</span></span><span class=line><span class=cl><span class=n>    variables</span> <span class=o>=</span> {
</span></span><span class=line><span class=cl><span class=n>      JWT_SECRET_KEY</span> <span class=o>=</span> <span class=s2>&#34;secret_api_tutorial&#34;</span>
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>  }
</span></span><span class=line><span class=cl>}
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>resource</span> <span class=s2>&#34;aws_cloudwatch_log_group&#34; &#34;book_lambda_authorizer_cloudwatch&#34;</span> {
</span></span><span class=line><span class=cl><span class=n>  name</span>              <span class=o>=</span> <span class=s2>&#34;/aws/lambda/${aws_lambda_function.lambda_authorizer.function_name}&#34;</span>
</span></span><span class=line><span class=cl><span class=n>  retention_in_days</span> <span class=o>=</span> <span class=m>7</span>
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h4 id=các-điểm-chính-về-lambda-authorizers>Các điểm chính về Lambda Authorizers</h4><ol><li>Authorizers phải trả về một chính sách IAM: Lambda Authorizers không trả về phản hồi HTTP; thay vào đó, chúng tạo ra một chính sách IAM xác định liệu quyền truy cập có được cho phép hay không.</li><li>Xử lý các yêu cầu bị từ chối: Nếu phản hồi bao gồm một &ldquo;Deny&rdquo; rõ ràng, AWS API Gateway sẽ trả về một thông điệp lỗi 403 tổng quát. Để tùy chỉnh điều này, bạn có thể thử nghiệm với việc trả về một chính sách &ldquo;Allow&rdquo; mà không có hành động hoặc tài nguyên nào, nhưng điều này không được khuyến nghị.</li></ol><p>Mình đã tạo 3 nhóm log CloudWatch, giúp mình quét các log khi cần thiết:</p><ol><li>Cho hàm Lambda thực hiện các thao tác CRUD.</li><li>Cho Lambda Authorizer.</li><li>Các cuộc gọi API gateway.</li></ol><h4 id=các-bước-để-chạy-terraform>Các bước để chạy Terraform</h4><p>Thực hiện các bước sau để thực thi cấu hình Terraform:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>tf init
</span></span><span class=line><span class=cl>tf plan
</span></span><span class=line><span class=cl>tf apply -auto-approve
</span></span></code></pre></div><p>Sau khi hoàn thành, Terraform sẽ cung cấp các đầu ra liên quan.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>Apply complete! Resources: <span class=m>46</span> added, <span class=m>0</span> changed, <span class=m>0</span> destroyed.
</span></span></code></pre></div><h4 id=kiểm-tra>Kiểm tra</h4><p>Hàm Lambda và hàm Lambda Authorizer:</p><p><img src=/images/securing-api-gateway-with-lambda-authorizer-using-jwt-tokens/image_3.png alt="Lambda Functions"></p><p>Tài nguyên API với Authorizer đã được định nghĩa:</p><p><img src=/images/securing-api-gateway-with-lambda-authorizer-using-jwt-tokens/image_4.png alt="API Resource with authorizer defined"></p><p><code>Token</code> Dựa trên authorizer cho API với nguồn token là <code>authorizationToken</code>:</p><p><img src=/images/securing-api-gateway-with-lambda-authorizer-using-jwt-tokens/image_5.png alt=Authorizer></p><p>Xây dựng JWT bằng công cụ xây dựng JWT trực tuyến sử dụng khóa bí mật:</p><p><img src=/images/securing-api-gateway-with-lambda-authorizer-using-jwt-tokens/image_6.png alt="Build JWT"></p><p>Kiểm tra trực tuyến xem JWT có hợp lệ hay không bằng khóa bí mật đã cung cấp ở trên:</p><p><img src=/images/securing-api-gateway-with-lambda-authorizer-using-jwt-tokens/image_7.png alt="Validate JWT"></p><p>Kiểm tra token hợp lệ (mình đã gửi token JWT dưới dạng tiêu đề <code>authorizationToken</code>):</p><p><img src=/images/securing-api-gateway-with-lambda-authorizer-using-jwt-tokens/image_8.png alt="Valid Token sent using Postman"></p><p>Nhật ký thực thi API Gateway cho thấy tiêu đề yêu cầu với phản hồi của authorizer cùng với chính sách IAM với <code>Allow</code>.
Nhật ký hàm Lambda sách và hàm Authorizer cũng sẽ cho thấy thành công.</p><p><img src=/images/securing-api-gateway-with-lambda-authorizer-using-jwt-tokens/image_9.png alt="API Gateway execution logs for valid token"></p><p>Kiểm tra token không hợp lệ (mình đã gửi token JWT không hợp lệ dưới dạng tiêu đề <code>authorizationToken</code>):</p><p><img src=/images/securing-api-gateway-with-lambda-authorizer-using-jwt-tokens/image_10.png alt="Invalid token sent using Postman"></p><p>Nhật ký thực thi API Gateway cho thấy tiêu đề yêu cầu với phản hồi của authorizer cùng với chính sách IAM với <code>Deny</code>.
Nhật ký hàm Authorizer cũng sẽ cho thấy thất bại, hàm sách Lambda sẽ không được gọi.</p><p><img src=/images/securing-api-gateway-with-lambda-authorizer-using-jwt-tokens/image_11.png alt="API Gateway Execution logs for invalid token"></p><p>Các kiểm tra tương tự có thể được thực hiện cho các token đã hết hạn!</p><h4 id=dọn-dẹp>Dọn dẹp</h4><p>Nhớ dừng các thành phần AWS để tránh hóa đơn lớn.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>tf destroy -auto-approve
</span></span></code></pre></div><h3 id=kết-luận>Kết luận</h3><p>Bằng cách tích hợp một Lambda Authorizer với xác thực dựa trên JWT và triển khai nó bằng Terraform, mình có thể thực thi quyền kiểm soát truy cập trên các endpoint của API Gateway, đảm bảo chỉ những người dùng được ủy quyền mới có thể truy cập API. Phương pháp này linh hoạt và cho phép nhiều cơ chế xác thực khác nhau, bao gồm các nhà cung cấp danh tính bên thứ ba.</p><h3 id=tài-liệu-tham-khảo>Tài liệu tham khảo</h3><ol><li>GitHub Repo: <a href=https://github.com/chinmayto/terraform-aws-api-gateway-lambda-authorizer target=_blank>https://github.com/chinmayto/terraform-aws-api-gateway-lambda-authorizer</a></li><li>API Gateway Lambda Authorizer: <a href=https://docs.aws.amazon.com/apigateway/latest/developerguide/apigateway-use-lambda-authorizer.html target=_blank>https://docs.aws.amazon.com/apigateway/latest/developerguide/apigateway-use-lambda-authorizer.html</a></li><li>JWT Tokens: <a href=https://jwt.io/ target=_blank>https://jwt.io/</a></li><li>Online JWT Builder: <a href=http://jwtbuilder.jamiekurtz.com/ target=_blank>http://jwtbuilder.jamiekurtz.com/</a></li></ol></div><div class="row items-start justify-between"><div class="lg:col-6 mb-10 flex items-center lg:mb-0"><h5 class=mr-3>Tags :</h5><ul><li class=inline-block><a class="bg-light hover:bg-primary dark:bg-darkmode-light dark:hover:bg-darkmode-primary dark:hover:text-text-dark m-1 block rounded px-3 py-1 hover:text-white" href=/tags/api-gateway/>API Gateway</a></li><li class=inline-block><a class="bg-light hover:bg-primary dark:bg-darkmode-light dark:hover:bg-darkmode-primary dark:hover:text-text-dark m-1 block rounded px-3 py-1 hover:text-white" href=/tags/lambda/>Lambda</a></li><li class=inline-block><a class="bg-light hover:bg-primary dark:bg-darkmode-light dark:hover:bg-darkmode-primary dark:hover:text-text-dark m-1 block rounded px-3 py-1 hover:text-white" href=/tags/jwt/>JWT</a></li></ul></div><div class="lg:col-6 flex items-center"><div class="share-icons lg:ml-auto"><h5 class=share-title>Chia sẻ :</h5><a class="share-link share-facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fcodechozui.github.io%2fweb-development%2faws%2fhuong-dan-bao-mat-api-gateway-voi-lambda-authorizer-su-dung-jwt%2f" target=_blank rel=noopener aria-label="share facebook"><span class=share-icon><svg viewBox="0 0 24 24"><path d="M18.77 7.46H14.5v-1.9c0-.9.6-1.1 1-1.1h3V.5h-4.33C10.24.5 9.5 3.44 9.5 5.32v2.15h-3v4h3v12h5v-12h3.85l.42-4z"/></svg>
</span></a><a class="share-link share-twitter" href="https://twitter.com/intent/tweet/?text=Chia%20s%e1%ba%bb&amp;url=https%3a%2f%2fcodechozui.github.io%2fweb-development%2faws%2fhuong-dan-bao-mat-api-gateway-voi-lambda-authorizer-su-dung-jwt%2f" target=_blank rel=noopener aria-label="share twitter"><span aria-hidden=true class=share-icon><svg viewBox="0 0 24 24"><path d="M8 2H1l8.26 11.015L1.45 22H4.1l6.388-7.349L16 22h7l-8.608-11.478L21.8 2h-2.65l-5.986 6.886zm9 18L5 4h2l12 16z"/></svg>
</span></a><a class="share-link share-email" href="mailto:?subject=Chia%20s%e1%ba%bb&amp;body=https%3a%2f%2fcodechozui.github.io%2fweb-development%2faws%2fhuong-dan-bao-mat-api-gateway-voi-lambda-authorizer-su-dung-jwt%2f" target=_self rel=noopener aria-label="share email"><span aria-hidden=true class=share-icon><svg viewBox="0 0 24 24"><path d="M22 4H2C.9 4 0 4.9.0 6v12c0 1.1.9 2 2 2h20c1.1.0 2-.9 2-2V6c0-1.1-.9-2-2-2zM7.25 14.43l-3.5 2c-.08.05-.17.07-.25.07-.17.0-.34-.1-.43-.25-.14-.24-.06-.55.18-.68l3.5-2c.24-.14.55-.06.68.18.14.24.06.55-.18.68zm4.75.07c-.1.0-.2-.03-.27-.08l-8.5-5.5c-.23-.15-.3-.46-.15-.7.15-.22.46-.3.7-.14L12 13.4l8.23-5.32c.23-.15.54-.08.7.15.14.23.07.54-.16.7l-8.5 5.5c-.08.04-.17.07-.27.07zm8.93 1.75c-.1.16-.26.25-.43.25-.08.0-.17-.02-.25-.07l-3.5-2c-.24-.13-.32-.44-.18-.68s.44-.32.68-.18l3.5 2c.24.13.32.44.18.68z"/></svg>
</span></a><a class="share-link share-reddit" href="https://reddit.com/submit/?url=https%3a%2f%2fcodechozui.github.io%2fweb-development%2faws%2fhuong-dan-bao-mat-api-gateway-voi-lambda-authorizer-su-dung-jwt%2f&amp;resubmit=true&amp;title=Chia%20s%e1%ba%bb" target=_blank rel=noopener aria-label="share reddit"><span aria-hidden=true class=share-icon><svg viewBox="0 0 24 24"><path d="M24 11.5c0-1.65-1.35-3-3-3-.96.0-1.86.48-2.42 1.24-1.64-1-3.75-1.64-6.07-1.72.08-1.1.4-3.05 1.52-3.7.72-.4 1.73-.24 3 .5C17.2 6.3 18.46 7.5 20 7.5c1.65.0 3-1.35 3-3s-1.35-3-3-3c-1.38.0-2.54.94-2.88 2.22-1.43-.72-2.64-.8-3.6-.25-1.64.94-1.95 3.47-2 4.55-2.33.08-4.45.7-6.1 1.72C4.86 8.98 3.96 8.5 3 8.5c-1.65.0-3 1.35-3 3 0 1.32.84 2.44 2.05 2.84-.03.22-.05.44-.05.66.0 3.86 4.5 7 10 7s10-3.14 10-7c0-.22-.02-.44-.05-.66 1.2-.4 2.05-1.54 2.05-2.84zM2.3 13.37C1.5 13.07 1 12.35 1 11.5c0-1.1.9-2 2-2 .64.0 1.22.32 1.6.82-1.1.85-1.92 1.9-2.3 3.05zm3.7.13c0-1.1.9-2 2-2s2 .9 2 2-.9 2-2 2-2-.9-2-2zm9.8 4.8c-1.08.63-2.42.96-3.8.96-1.4.0-2.74-.34-3.8-.95-.24-.13-.32-.44-.2-.68.15-.24.46-.32.7-.18 1.83 1.06 4.76 1.06 6.6.0.23-.13.53-.05.67.2.14.23.06.54-.18.67zm.2-2.8c-1.1.0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm5.7-2.13c-.38-1.16-1.2-2.2-2.3-3.05.38-.5.97-.82 1.6-.82 1.1.0 2 .9 2 2 0 .84-.53 1.57-1.3 1.87z"/></svg></span></a></div></div></div><div class=mt-20><h4 class=mb-4><span class=underline style=text-underline-offset:10px>Bình luận</span></h4><p><i>Bình luận sử dụng Facebook hoặc Google bên dưới nhé :)</i></p><div id=graphcomment></div><script type=text/javascript>var __semio__params={graphcommentId:"codechozui09",behaviour:{}};function __semio__onload(){__semio__gc_graphlogin(__semio__params)}(function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.onload=__semio__onload,e.defer=!0,e.src="https://integration.graphcomment.com/gc_graphlogin.js?"+Date.now(),(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)})()</script></div></article><div class="hidden lg:block lg:col-4 xl:col-4 mb-6"><div class=mb-8><h4 class=mb-4><span class=underline style=text-underline-offset:10px>Chuyên mục</span></h4><div class="bg-light dark:bg-darkmode-light rounded p-8"><ul class=space-y-4><li><a class="hover:text-primary dark:hover:text-darkmode-primary flex justify-between" href=/ai/>AI <span>( 2 )</span></a></li><li><a class="hover:text-primary dark:hover:text-darkmode-primary flex justify-between" href=/authentication/>Authentication <span>( 1 )</span></a></li><li><a class="hover:text-primary dark:hover:text-darkmode-primary flex justify-between" href=/aws/>AWS <span>( 1 )</span></a></li><li><a class="hover:text-primary dark:hover:text-darkmode-primary flex justify-between" href=/cong-nghe/>Công Nghệ <span>( 1 )</span></a></li><li><a class="hover:text-primary dark:hover:text-darkmode-primary flex justify-between" href=/devops/>DevOps <span>( 1 )</span></a></li><li><a class="hover:text-primary dark:hover:text-darkmode-primary flex justify-between" href=/docker/>Docker <span>( 1 )</span></a></li><li><a class="hover:text-primary dark:hover:text-darkmode-primary flex justify-between" href=/firebase/>Firebase <span>( 1 )</span></a></li><li><a class="hover:text-primary dark:hover:text-darkmode-primary flex justify-between" href=/frontend/>Frontend <span>( 8 )</span></a></li><li><a class="hover:text-primary dark:hover:text-darkmode-primary flex justify-between" href=/git/>Git <span>( 2 )</span></a></li><li><a class="hover:text-primary dark:hover:text-darkmode-primary flex justify-between" href=/he-%C4%91ieu-hanh/>Hệ Điều Hành <span>( 1 )</span></a></li><li><a class="hover:text-primary dark:hover:text-darkmode-primary flex justify-between" href=/javascript/>JavaScript <span>( 1 )</span></a></li><li><a class="hover:text-primary dark:hover:text-darkmode-primary flex justify-between" href=/jsx/>JSX <span>( 1 )</span></a></li><li><a class="hover:text-primary dark:hover:text-darkmode-primary flex justify-between" href=/laravel/>Laravel <span>( 1 )</span></a></li><li><a class="hover:text-primary dark:hover:text-darkmode-primary flex justify-between" href=/linux/>Linux <span>( 2 )</span></a></li><li><a class="hover:text-primary dark:hover:text-darkmode-primary flex justify-between" href=/php/>PHP <span>( 2 )</span></a></li><li><a class="hover:text-primary dark:hover:text-darkmode-primary flex justify-between" href=/phan-tich/>Phân Tích <span>( 1 )</span></a></li><li><a class="hover:text-primary dark:hover:text-darkmode-primary flex justify-between" href=/react/>React <span>( 6 )</span></a></li><li><a class="hover:text-primary dark:hover:text-darkmode-primary flex justify-between" href=/security/>Security <span>( 3 )</span></a></li><li><a class="hover:text-primary dark:hover:text-darkmode-primary flex justify-between" href=/seo/>SEO <span>( 1 )</span></a></li><li><a class="hover:text-primary dark:hover:text-darkmode-primary flex justify-between" href=/sql/>SQL <span>( 1 )</span></a></li><li><a class="hover:text-primary dark:hover:text-darkmode-primary flex justify-between" href=/state-management/>State Management <span>( 1 )</span></a></li><li><a class="hover:text-primary dark:hover:text-darkmode-primary flex justify-between" href=/tin-cong-nghe/>Tin Công Nghệ <span>( 12 )</span></a></li><li><a class="hover:text-primary dark:hover:text-darkmode-primary flex justify-between" href=/truyen-thong/>Truyền Thông <span>( 1 )</span></a></li><li><a class="hover:text-primary dark:hover:text-darkmode-primary flex justify-between" href=/vuejs/>VueJS <span>( 1 )</span></a></li><li><a class="hover:text-primary dark:hover:text-darkmode-primary flex justify-between" href=/web-development/>Web Development <span>( 16 )</span></a></li><li><a class="hover:text-primary dark:hover:text-darkmode-primary flex justify-between" href=/wordpress/>WordPress <span>( 1 )</span></a></li></ul></div></div><div class=mb-8><h4 class=mb-4><span class=underline style=text-underline-offset:10px>Tags</span></h4><div class="bg-light dark:bg-darkmode-light rounded p-6"><ul><li class=inline-block><a class="hover:bg-primary dark:bg-darkmode-body dark:hover:bg-darkmode-primary dark:hover:text-text-dark m-1 block rounded bg-white px-3 py-1 hover:text-white" href=/tags/ai/>AI</a></li><li class=inline-block><a class="hover:bg-primary dark:bg-darkmode-body dark:hover:bg-darkmode-primary dark:hover:text-text-dark m-1 block rounded bg-white px-3 py-1 hover:text-white" href=/tags/amazon/>Amazon</a></li><li class=inline-block><a class="hover:bg-primary dark:bg-darkmode-body dark:hover:bg-darkmode-primary dark:hover:text-text-dark m-1 block rounded bg-white px-3 py-1 hover:text-white" href=/tags/an-ninh-mang/>An Ninh Mạng</a></li><li class=inline-block><a class="hover:bg-primary dark:bg-darkmode-body dark:hover:bg-darkmode-primary dark:hover:text-text-dark m-1 block rounded bg-white px-3 py-1 hover:text-white" href=/tags/api-gateway/>API Gateway</a></li><li class=inline-block><a class="hover:bg-primary dark:bg-darkmode-body dark:hover:bg-darkmode-primary dark:hover:text-text-dark m-1 block rounded bg-white px-3 py-1 hover:text-white" href=/tags/apple/>Apple</a></li><li class=inline-block><a class="hover:bg-primary dark:bg-darkmode-body dark:hover:bg-darkmode-primary dark:hover:text-text-dark m-1 block rounded bg-white px-3 py-1 hover:text-white" href=/tags/apple-watch/>Apple Watch</a></li><li class=inline-block><a class="hover:bg-primary dark:bg-darkmode-body dark:hover:bg-darkmode-primary dark:hover:text-text-dark m-1 block rounded bg-white px-3 py-1 hover:text-white" href=/tags/authentication/>Authentication</a></li><li class=inline-block><a class="hover:bg-primary dark:bg-darkmode-body dark:hover:bg-darkmode-primary dark:hover:text-text-dark m-1 block rounded bg-white px-3 py-1 hover:text-white" href=/tags/bao-mat-thong-tin/>Bảo Mật Thông Tin</a></li><li class=inline-block><a class="hover:bg-primary dark:bg-darkmode-body dark:hover:bg-darkmode-primary dark:hover:text-text-dark m-1 block rounded bg-white px-3 py-1 hover:text-white" href=/tags/bo-tai-chinh/>Bộ Tài Chính</a></li><li class=inline-block><a class="hover:bg-primary dark:bg-darkmode-body dark:hover:bg-darkmode-primary dark:hover:text-text-dark m-1 block rounded bg-white px-3 py-1 hover:text-white" href=/tags/callback-hell/>Callback Hell</a></li><li class=inline-block><a class="hover:bg-primary dark:bg-darkmode-body dark:hover:bg-darkmode-primary dark:hover:text-text-dark m-1 block rounded bg-white px-3 py-1 hover:text-white" href=/tags/chromecast/>Chromecast</a></li><li class=inline-block><a class="hover:bg-primary dark:bg-darkmode-body dark:hover:bg-darkmode-primary dark:hover:text-text-dark m-1 block rounded bg-white px-3 py-1 hover:text-white" href=/tags/cloudinary/>Cloudinary</a></li><li class=inline-block><a class="hover:bg-primary dark:bg-darkmode-body dark:hover:bg-darkmode-primary dark:hover:text-text-dark m-1 block rounded bg-white px-3 py-1 hover:text-white" href=/tags/cpsc/>CPSC</a></li><li class=inline-block><a class="hover:bg-primary dark:bg-darkmode-body dark:hover:bg-darkmode-primary dark:hover:text-text-dark m-1 block rounded bg-white px-3 py-1 hover:text-white" href=/tags/cong-cu-tim-kiem/>Công Cụ Tìm Kiếm</a></li><li class=inline-block><a class="hover:bg-primary dark:bg-darkmode-body dark:hover:bg-darkmode-primary dark:hover:text-text-dark m-1 block rounded bg-white px-3 py-1 hover:text-white" href=/tags/cong-nghe/>Công Nghệ</a></li><li class=inline-block><a class="hover:bg-primary dark:bg-darkmode-body dark:hover:bg-darkmode-primary dark:hover:text-text-dark m-1 block rounded bg-white px-3 py-1 hover:text-white" href=/tags/cong-nghe-evtol/>Công Nghệ EVTOL</a></li><li class=inline-block><a class="hover:bg-primary dark:bg-darkmode-body dark:hover:bg-darkmode-primary dark:hover:text-text-dark m-1 block rounded bg-white px-3 py-1 hover:text-white" href=/tags/co-so-du-lieu/>Cơ Sở Dữ Liệu</a></li><li class=inline-block><a class="hover:bg-primary dark:bg-darkmode-body dark:hover:bg-darkmode-primary dark:hover:text-text-dark m-1 block rounded bg-white px-3 py-1 hover:text-white" href=/tags/cap-nhat/>Cập Nhật</a></li><li class=inline-block><a class="hover:bg-primary dark:bg-darkmode-body dark:hover:bg-darkmode-primary dark:hover:text-text-dark m-1 block rounded bg-white px-3 py-1 hover:text-white" href=/tags/docker/>Docker</a></li><li class=inline-block><a class="hover:bg-primary dark:bg-darkmode-body dark:hover:bg-darkmode-primary dark:hover:text-text-dark m-1 block rounded bg-white px-3 py-1 hover:text-white" href=/tags/elastic-cloud/>Elastic Cloud</a></li><li class=inline-block><a class="hover:bg-primary dark:bg-darkmode-body dark:hover:bg-darkmode-primary dark:hover:text-text-dark m-1 block rounded bg-white px-3 py-1 hover:text-white" href=/tags/firebase/>Firebase</a></li><li class=inline-block><a class="hover:bg-primary dark:bg-darkmode-body dark:hover:bg-darkmode-primary dark:hover:text-text-dark m-1 block rounded bg-white px-3 py-1 hover:text-white" href=/tags/frontend/>Frontend</a></li><li class=inline-block><a class="hover:bg-primary dark:bg-darkmode-body dark:hover:bg-darkmode-primary dark:hover:text-text-dark m-1 block rounded bg-white px-3 py-1 hover:text-white" href=/tags/git/>Git</a></li><li class=inline-block><a class="hover:bg-primary dark:bg-darkmode-body dark:hover:bg-darkmode-primary dark:hover:text-text-dark m-1 block rounded bg-white px-3 py-1 hover:text-white" href=/tags/gitops/>GitOps</a></li><li class=inline-block><a class="hover:bg-primary dark:bg-darkmode-body dark:hover:bg-darkmode-primary dark:hover:text-text-dark m-1 block rounded bg-white px-3 py-1 hover:text-white" href=/tags/google/>Google</a></li><li class=inline-block><a class="hover:bg-primary dark:bg-darkmode-body dark:hover:bg-darkmode-primary dark:hover:text-text-dark m-1 block rounded bg-white px-3 py-1 hover:text-white" href=/tags/grub/>GRUB</a></li><li class=inline-block><a class="hover:bg-primary dark:bg-darkmode-body dark:hover:bg-darkmode-primary dark:hover:text-text-dark m-1 block rounded bg-white px-3 py-1 hover:text-white" href=/tags/hooks/>Hooks</a></li><li class=inline-block><a class="hover:bg-primary dark:bg-darkmode-body dark:hover:bg-darkmode-primary dark:hover:text-text-dark m-1 block rounded bg-white px-3 py-1 hover:text-white" href=/tags/hang-khong/>Hàng Không</a></li><li class=inline-block><a class="hover:bg-primary dark:bg-darkmode-body dark:hover:bg-darkmode-primary dark:hover:text-text-dark m-1 block rounded bg-white px-3 py-1 hover:text-white" href=/tags/he-%C4%91ieu-hanh/>Hệ Điều Hành</a></li><li class=inline-block><a class="hover:bg-primary dark:bg-darkmode-body dark:hover:bg-darkmode-primary dark:hover:text-text-dark m-1 block rounded bg-white px-3 py-1 hover:text-white" href=/tags/javascript/>JavaScript</a></li><li class=inline-block><a class="hover:bg-primary dark:bg-darkmode-body dark:hover:bg-darkmode-primary dark:hover:text-text-dark m-1 block rounded bg-white px-3 py-1 hover:text-white" href=/tags/jsx/>JSX</a></li><li class=inline-block><a class="hover:bg-primary dark:bg-darkmode-body dark:hover:bg-darkmode-primary dark:hover:text-text-dark m-1 block rounded bg-white px-3 py-1 hover:text-white" href=/tags/jwt/>JWT</a></li><li class=inline-block><a class="hover:bg-primary dark:bg-darkmode-body dark:hover:bg-darkmode-primary dark:hover:text-text-dark m-1 block rounded bg-white px-3 py-1 hover:text-white" href=/tags/kali-linux/>Kali Linux</a></li><li class=inline-block><a class="hover:bg-primary dark:bg-darkmode-body dark:hover:bg-darkmode-primary dark:hover:text-text-dark m-1 block rounded bg-white px-3 py-1 hover:text-white" href=/tags/lambda/>Lambda</a></li><li class=inline-block><a class="hover:bg-primary dark:bg-darkmode-body dark:hover:bg-darkmode-primary dark:hover:text-text-dark m-1 block rounded bg-white px-3 py-1 hover:text-white" href=/tags/laravel/>Laravel</a></li><li class=inline-block><a class="hover:bg-primary dark:bg-darkmode-body dark:hover:bg-darkmode-primary dark:hover:text-text-dark m-1 block rounded bg-white px-3 py-1 hover:text-white" href=/tags/linux/>Linux</a></li><li class=inline-block><a class="hover:bg-primary dark:bg-darkmode-body dark:hover:bg-darkmode-primary dark:hover:text-text-dark m-1 block rounded bg-white px-3 py-1 hover:text-white" href=/tags/luat-phap/>Luật Pháp</a></li><li class=inline-block><a class="hover:bg-primary dark:bg-darkmode-body dark:hover:bg-darkmode-primary dark:hover:text-text-dark m-1 block rounded bg-white px-3 py-1 hover:text-white" href=/tags/lap-trinh/>Lập Trình</a></li><li class=inline-block><a class="hover:bg-primary dark:bg-darkmode-body dark:hover:bg-darkmode-primary dark:hover:text-text-dark m-1 block rounded bg-white px-3 py-1 hover:text-white" href=/tags/marketing/>Marketing</a></li><li class=inline-block><a class="hover:bg-primary dark:bg-darkmode-body dark:hover:bg-darkmode-primary dark:hover:text-text-dark m-1 block rounded bg-white px-3 py-1 hover:text-white" href=/tags/metallica/>Metallica</a></li><li class=inline-block><a class="hover:bg-primary dark:bg-darkmode-body dark:hover:bg-darkmode-primary dark:hover:text-text-dark m-1 block rounded bg-white px-3 py-1 hover:text-white" href=/tags/may-bay-%C4%91ien/>Máy Bay Điện</a></li><li class=inline-block><a class="hover:bg-primary dark:bg-darkmode-body dark:hover:bg-darkmode-primary dark:hover:text-text-dark m-1 block rounded bg-white px-3 py-1 hover:text-white" href=/tags/oauth/>OAuth</a></li><li class=inline-block><a class="hover:bg-primary dark:bg-darkmode-body dark:hover:bg-darkmode-primary dark:hover:text-text-dark m-1 block rounded bg-white px-3 py-1 hover:text-white" href=/tags/perplexity/>Perplexity</a></li><li class=inline-block><a class="hover:bg-primary dark:bg-darkmode-body dark:hover:bg-darkmode-primary dark:hover:text-text-dark m-1 block rounded bg-white px-3 py-1 hover:text-white" href=/tags/php/>PHP</a></li><li class=inline-block><a class="hover:bg-primary dark:bg-darkmode-body dark:hover:bg-darkmode-primary dark:hover:text-text-dark m-1 block rounded bg-white px-3 py-1 hover:text-white" href=/tags/promises/>Promises</a></li><li class=inline-block><a class="hover:bg-primary dark:bg-darkmode-body dark:hover:bg-darkmode-primary dark:hover:text-text-dark m-1 block rounded bg-white px-3 py-1 hover:text-white" href=/tags/quan-ly-co-so-du-lieu/>Quản Lý Cơ Sở Dữ Liệu</a></li><li class=inline-block><a class="hover:bg-primary dark:bg-darkmode-body dark:hover:bg-darkmode-primary dark:hover:text-text-dark m-1 block rounded bg-white px-3 py-1 hover:text-white" href=/tags/quan-ly-ma-nguon/>Quản Lý Mã Nguồn</a></li><li class=inline-block><a class="hover:bg-primary dark:bg-darkmode-body dark:hover:bg-darkmode-primary dark:hover:text-text-dark m-1 block rounded bg-white px-3 py-1 hover:text-white" href=/tags/quang-cao/>Quảng Cáo</a></li><li class=inline-block><a class="hover:bg-primary dark:bg-darkmode-body dark:hover:bg-darkmode-primary dark:hover:text-text-dark m-1 block rounded bg-white px-3 py-1 hover:text-white" href=/tags/react/>React</a></li><li class=inline-block><a class="hover:bg-primary dark:bg-darkmode-body dark:hover:bg-darkmode-primary dark:hover:text-text-dark m-1 block rounded bg-white px-3 py-1 hover:text-white" href=/tags/react-query/>React Query</a></li><li class=inline-block><a class="hover:bg-primary dark:bg-darkmode-body dark:hover:bg-darkmode-primary dark:hover:text-text-dark m-1 block rounded bg-white px-3 py-1 hover:text-white" href=/tags/robot/>Robot</a></li><li class=inline-block><a class="hover:bg-primary dark:bg-darkmode-body dark:hover:bg-darkmode-primary dark:hover:text-text-dark m-1 block rounded bg-white px-3 py-1 hover:text-white" href=/tags/roku/>Roku</a></li><li class=inline-block><a class="hover:bg-primary dark:bg-darkmode-body dark:hover:bg-darkmode-primary dark:hover:text-text-dark m-1 block rounded bg-white px-3 py-1 hover:text-white" href=/tags/seo/>SEO</a></li><li class=inline-block><a class="hover:bg-primary dark:bg-darkmode-body dark:hover:bg-darkmode-primary dark:hover:text-text-dark m-1 block rounded bg-white px-3 py-1 hover:text-white" href=/tags/servicenow/>ServiceNow</a></li><li class=inline-block><a class="hover:bg-primary dark:bg-darkmode-body dark:hover:bg-darkmode-primary dark:hover:text-text-dark m-1 block rounded bg-white px-3 py-1 hover:text-white" href=/tags/siem/>SIEM</a></li><li class=inline-block><a class="hover:bg-primary dark:bg-darkmode-body dark:hover:bg-darkmode-primary dark:hover:text-text-dark m-1 block rounded bg-white px-3 py-1 hover:text-white" href=/tags/sitemap/>Sitemap</a></li><li class=inline-block><a class="hover:bg-primary dark:bg-darkmode-body dark:hover:bg-darkmode-primary dark:hover:text-text-dark m-1 block rounded bg-white px-3 py-1 hover:text-white" href=/tags/smartwatch/>Smartwatch</a></li><li class=inline-block><a class="hover:bg-primary dark:bg-darkmode-body dark:hover:bg-darkmode-primary dark:hover:text-text-dark m-1 block rounded bg-white px-3 py-1 hover:text-white" href=/tags/sql/>SQL</a></li><li class=inline-block><a class="hover:bg-primary dark:bg-darkmode-body dark:hover:bg-darkmode-primary dark:hover:text-text-dark m-1 block rounded bg-white px-3 py-1 hover:text-white" href=/tags/streaming/>Streaming</a></li><li class=inline-block><a class="hover:bg-primary dark:bg-darkmode-body dark:hover:bg-darkmode-primary dark:hover:text-text-dark m-1 block rounded bg-white px-3 py-1 hover:text-white" href=/tags/swr/>SWR</a></li><li class=inline-block><a class="hover:bg-primary dark:bg-darkmode-body dark:hover:bg-darkmode-primary dark:hover:text-text-dark m-1 block rounded bg-white px-3 py-1 hover:text-white" href=/tags/taxi-hang-khong/>Taxi Hàng Không</a></li><li class=inline-block><a class="hover:bg-primary dark:bg-darkmode-body dark:hover:bg-darkmode-primary dark:hover:text-text-dark m-1 block rounded bg-white px-3 py-1 hover:text-white" href=/tags/taxi-tren-khong/>Taxi Trên Không</a></li><li class=inline-block><a class="hover:bg-primary dark:bg-darkmode-body dark:hover:bg-darkmode-primary dark:hover:text-text-dark m-1 block rounded bg-white px-3 py-1 hover:text-white" href=/tags/thuong-mai-%C4%91ien-tu/>Thương Mại Điện Tử</a></li><li class=inline-block><a class="hover:bg-primary dark:bg-darkmode-body dark:hover:bg-darkmode-primary dark:hover:text-text-dark m-1 block rounded bg-white px-3 py-1 hover:text-white" href=/tags/thuc-te-ao/>Thực Tế Ảo</a></li><li class=inline-block><a class="hover:bg-primary dark:bg-darkmode-body dark:hover:bg-darkmode-primary dark:hover:text-text-dark m-1 block rounded bg-white px-3 py-1 hover:text-white" href=/tags/trien-khai/>Triển Khai</a></li><li class=inline-block><a class="hover:bg-primary dark:bg-darkmode-body dark:hover:bg-darkmode-primary dark:hover:text-text-dark m-1 block rounded bg-white px-3 py-1 hover:text-white" href=/tags/tim-kiem-ai/>Tìm Kiếm AI</a></li><li class=inline-block><a class="hover:bg-primary dark:bg-darkmode-body dark:hover:bg-darkmode-primary dark:hover:text-text-dark m-1 block rounded bg-white px-3 py-1 hover:text-white" href=/tags/toi-uu-hoa/>Tối Ưu Hóa</a></li><li class=inline-block><a class="hover:bg-primary dark:bg-darkmode-body dark:hover:bg-darkmode-primary dark:hover:text-text-dark m-1 block rounded bg-white px-3 py-1 hover:text-white" href=/tags/tu-%C4%91ong-hoa/>Tự Động Hóa</a></li><li class=inline-block><a class="hover:bg-primary dark:bg-darkmode-body dark:hover:bg-darkmode-primary dark:hover:text-text-dark m-1 block rounded bg-white px-3 py-1 hover:text-white" href=/tags/vision-pro/>Vision Pro</a></li><li class=inline-block><a class="hover:bg-primary dark:bg-darkmode-body dark:hover:bg-darkmode-primary dark:hover:text-text-dark m-1 block rounded bg-white px-3 py-1 hover:text-white" href=/tags/vue/>Vue</a></li><li class=inline-block><a class="hover:bg-primary dark:bg-darkmode-body dark:hover:bg-darkmode-primary dark:hover:text-text-dark m-1 block rounded bg-white px-3 py-1 hover:text-white" href=/tags/wamp/>WAMP</a></li><li class=inline-block><a class="hover:bg-primary dark:bg-darkmode-body dark:hover:bg-darkmode-primary dark:hover:text-text-dark m-1 block rounded bg-white px-3 py-1 hover:text-white" href=/tags/webhooks/>Webhooks</a></li><li class=inline-block><a class="hover:bg-primary dark:bg-darkmode-body dark:hover:bg-darkmode-primary dark:hover:text-text-dark m-1 block rounded bg-white px-3 py-1 hover:text-white" href=/tags/wordpress/>WordPress</a></li><li class=inline-block><a class="hover:bg-primary dark:bg-darkmode-body dark:hover:bg-darkmode-primary dark:hover:text-text-dark m-1 block rounded bg-white px-3 py-1 hover:text-white" href=/tags/xe-bay/>Xe Bay</a></li><li class=inline-block><a class="hover:bg-primary dark:bg-darkmode-body dark:hover:bg-darkmode-primary dark:hover:text-text-dark m-1 block rounded bg-white px-3 py-1 hover:text-white" href=/tags/am-nhac/>Âm Nhạc</a></li></ul></div></div></div></div><div class="section pb-0"><h4 class=mb-4><span class=underline style=text-underline-offset:10px>Bài viết khác</span></h4><div class=row><div class="lg:col-4 md:col-6 mb-14"><div class="bg-body dark:bg-darkmode-body"><h6 class=mb-3><a href=/web-development/security/so-sanh-oauth-va-jwt-cach-nao-bao-mat-api-cua-ban-tot-hon/>So sánh OAuth và JWT: Cách nào bảo mật API của bạn tốt hơn?</a></h6><ul class=mb-4><li class="mr-2 inline-block dark:bg-darkmode-light bg-light px-2 py-1 rounded-md text-sm text-text-light dark:text-darkmode-text-light">OAuth</li><li class="mr-2 inline-block dark:bg-darkmode-light bg-light px-2 py-1 rounded-md text-sm text-text-light dark:text-darkmode-text-light">JWT</li><li class="mr-2 inline-block dark:bg-darkmode-light bg-light px-2 py-1 rounded-md text-sm text-text-light dark:text-darkmode-text-light">Authentication</li></ul><div class="my-4 text-sm text-text-light dark:text-darkmode-text-light"><span class="mr-4 inline-block"><i class="fa-regular fa-circle-user mr-1"></i>@codechozui
</span><span class="mr-4 inline-block"><i class="fa-regular fa-calendar-alt mr-1"></i>11/03/2025
</span><span class=inline-block><i class="fa-regular fa-clock mr-1"></i>2
phút đọc</span></div><p class="mb-6 text-text-light dark:text-darkmode-text-light">Bài viết này sẽ giúp bạn hiểu rõ sự khác biệt giữa OAuth và JWT, hai cơ chế xác thực phổ biến trong phát triển ứng dụng. Mình sẽ cung cấp những ví dụ thực tế và hướng dẫn bạn cách áp dụng chúng một cách hiệu quả.</p></div></div></div></div></div></section></main><footer class="bg-light dark:bg-darkmode-light"><div class=container><div class="row items-center py-10"><div class="lg:col-3 mb-8 text-center lg:mb-0 lg:text-left"><a class="navbar-brand inline-block" href=/><img fetchpriority=high decoding=async class="img img-light" width=160 height=32 src=/images/logo.svg alt=CodeChoZui onerror='this.onerror=null,this.src=""'>
<img fetchpriority=high decoding=async class="img img-dark" width=160 height=32 src=/images/logo-horizontal-dark.svg alt=CodeChoZui onerror='this.onerror=null,this.src=""'></a></div><div class="lg:col-6 mb-8 text-center lg:mb-0"><ul><li class="m-3 inline-block"><a href=/terms>Điều khoản</a></li><li class="m-3 inline-block"><a href=/privacy-policy>Chính sách</a></li><li class="m-3 inline-block"><a href=/contact>Liên hệ</a></li></ul></div><div class="lg:col-3 mb-8 text-center lg:mb-0 lg:mt-0 lg:text-right"><ul class=social-icons><li><a target=_blank aria-label=facebook rel="nofollow noopener" href=https://www.facebook.com/><i class="fab fa-facebook"></i></a></li><li><a target=_blank aria-label=twitter rel="nofollow noopener" href=https://twitter.com/><i class="fab fa-twitter"></i></a></li><li><a target=_blank aria-label=github rel="nofollow noopener" href=https://www.github.com/><i class="fab fa-github"></i></a></li><li><a target=_blank aria-label=linkedin rel="nofollow noopener" href=https://www.linkedin.com/><i class="fab fa-linkedin"></i></a></li></ul></div></div></div><div class="border-footer-border dark:border-darkmode-border border-t py-7"><div class="text-text-light dark:text-darkmode-text-light container text-center"><p>Developed by <a href=https://codechozui.github.io target=_blank>CodeChoZui09</a></p></div></div></footer><script crossorigin=anonymous integrity="sha256-LO9JECYLqyMcpGlrtxZcpUn0I8AvhO6oIIibJZv4zbk=" src=/js/script.min.2cef4910260bab231ca4696bb7165ca549f423c02f84eea820889b259bf8cdb9.js></script><script defer async crossorigin=anonymous integrity="sha256-6WomfiWXziApPR9exxy3xjT2w9Za+OYxJPD02L7xe5A=" src=/js/script-lazy.min.e96a267e2597ce20293d1f5ec71cb7c634f6c3d65af8e63124f0f4d8bef17b90.js></script><script>"serviceWorker"in navigator&&navigator.serviceWorker.register("/service-worker.js")</script></body></html>